{"ast":null,"code":"/*\r\nCopyright 2022 Adobe\r\nAll Rights Reserved.\r\n\r\nNOTICE: Adobe permits you to use, modify, and distribute this file in\r\naccordance with the terms of the Adobe license agreement accompanying\r\nit.\r\n*/\n\n// Use the AEM Headless SDK to make the GraphQL requests\nimport AEMHeadless from \"@adobe/aem-headless-client-js\";\n\n// environment variable for configuring the headless client\nconst {\n  REACT_APP_HOST_URI,\n  REACT_APP_GRAPHQL_ENDPOINT,\n  REACT_APP_USE_PROXY,\n  REACT_APP_AUTH_METHOD,\n  REACT_APP_DEV_TOKEN,\n  REACT_APP_BASIC_AUTH_USER,\n  REACT_APP_BASIC_AUTH_PASS\n} = process.env;\n\n// In a production application the serviceURL should be set to the production AEM Publish environment\n// In development the serviceURL can be set to '/' which will be a relative proxy is used (see ../authMethods.js) to avoid CORS issues\n\nconst serviceURL = REACT_APP_USE_PROXY === \"true\" ? \"/\" : REACT_APP_HOST_URI;\n\n// Get authorization based on environment variables\n// authorization is not needed when connecting to Publish environments\nconst setAuthorization = () => {\n  if (REACT_APP_AUTH_METHOD === \"basic\") {\n    return [REACT_APP_BASIC_AUTH_USER, REACT_APP_BASIC_AUTH_PASS];\n  } else if (REACT_APP_AUTH_METHOD === \"dev-token\") {\n    return REACT_APP_DEV_TOKEN;\n  } else {\n    // no authentication set\n    return;\n  }\n};\n\n// Initialize the AEM Headless Client and export it for other files to use\nconst aemHeadlessClient = new AEMHeadless({\n  serviceURL: serviceURL,\n  endpoint: REACT_APP_GRAPHQL_ENDPOINT,\n  auth: setAuthorization()\n});\nexport default aemHeadlessClient;","map":{"version":3,"names":["AEMHeadless","REACT_APP_HOST_URI","REACT_APP_GRAPHQL_ENDPOINT","REACT_APP_USE_PROXY","REACT_APP_AUTH_METHOD","REACT_APP_DEV_TOKEN","REACT_APP_BASIC_AUTH_USER","REACT_APP_BASIC_AUTH_PASS","process","env","serviceURL","setAuthorization","aemHeadlessClient","endpoint","auth"],"sources":["C:/AEM-spa-tutorial/Code/aem-guides-wknd-graphql/remote-spa-tutorial/react-app/src/api/aemHeadlessClient.js"],"sourcesContent":["/*\r\nCopyright 2022 Adobe\r\nAll Rights Reserved.\r\n\r\nNOTICE: Adobe permits you to use, modify, and distribute this file in\r\naccordance with the terms of the Adobe license agreement accompanying\r\nit.\r\n*/\r\n\r\n// Use the AEM Headless SDK to make the GraphQL requests\r\nimport AEMHeadless from \"@adobe/aem-headless-client-js\";\r\n\r\n// environment variable for configuring the headless client\r\nconst {\r\n  REACT_APP_HOST_URI,\r\n  REACT_APP_GRAPHQL_ENDPOINT,\r\n  REACT_APP_USE_PROXY,\r\n  REACT_APP_AUTH_METHOD,\r\n  REACT_APP_DEV_TOKEN,\r\n  REACT_APP_BASIC_AUTH_USER,\r\n  REACT_APP_BASIC_AUTH_PASS,\r\n} = process.env;\r\n\r\n// In a production application the serviceURL should be set to the production AEM Publish environment\r\n// In development the serviceURL can be set to '/' which will be a relative proxy is used (see ../authMethods.js) to avoid CORS issues\r\n\r\nconst serviceURL = REACT_APP_USE_PROXY === \"true\" ? \"/\" : REACT_APP_HOST_URI;\r\n\r\n// Get authorization based on environment variables\r\n// authorization is not needed when connecting to Publish environments\r\nconst setAuthorization = () => {\r\n  if (REACT_APP_AUTH_METHOD === \"basic\") {\r\n    return [REACT_APP_BASIC_AUTH_USER, REACT_APP_BASIC_AUTH_PASS];\r\n  } else if (REACT_APP_AUTH_METHOD === \"dev-token\") {\r\n    return REACT_APP_DEV_TOKEN;\r\n  } else {\r\n    // no authentication set\r\n    return;\r\n  }\r\n};\r\n\r\n// Initialize the AEM Headless Client and export it for other files to use\r\nconst aemHeadlessClient = new AEMHeadless({\r\n  serviceURL: serviceURL,\r\n  endpoint: REACT_APP_GRAPHQL_ENDPOINT,\r\n  auth: setAuthorization(),\r\n});\r\n\r\nexport default aemHeadlessClient;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,WAAW,MAAM,+BAA+B;;AAEvD;AACA,MAAM;EACJC,kBAAkB;EAClBC,0BAA0B;EAC1BC,mBAAmB;EACnBC,qBAAqB;EACrBC,mBAAmB;EACnBC,yBAAyB;EACzBC;AACF,CAAC,GAAGC,OAAO,CAACC,GAAG;;AAEf;AACA;;AAEA,MAAMC,UAAU,GAAGP,mBAAmB,KAAK,MAAM,GAAG,GAAG,GAAGF,kBAAkB;;AAE5E;AACA;AACA,MAAMU,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,IAAIP,qBAAqB,KAAK,OAAO,EAAE;IACrC,OAAO,CAACE,yBAAyB,EAAEC,yBAAyB,CAAC;EAC/D,CAAC,MAAM,IAAIH,qBAAqB,KAAK,WAAW,EAAE;IAChD,OAAOC,mBAAmB;EAC5B,CAAC,MAAM;IACL;IACA;EACF;AACF,CAAC;;AAED;AACA,MAAMO,iBAAiB,GAAG,IAAIZ,WAAW,CAAC;EACxCU,UAAU,EAAEA,UAAU;EACtBG,QAAQ,EAAEX,0BAA0B;EACpCY,IAAI,EAAEH,gBAAgB;AACxB,CAAC,CAAC;AAEF,eAAeC,iBAAiB"},"metadata":{},"sourceType":"module"}